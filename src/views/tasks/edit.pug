extends ../layouts/main.pug

block content
  .row.justify-content-center
    .col-md-6
      h2.text-center.mb-3 Editar Tarefa

      if error
        .alert.alert-danger #{error}

      form(action=`/tasks/edit/${task._id}` method="POST")
        .mb-3
          label.form-label Título
          input.form-control(type="text" name="title" value=task.title required)

        .mb-3
          label.form-label Descrição
          textarea.form-control(name="description" rows="4")= task.description

        .mb-3
          label.form-label Status
          select.form-select(name="status")
            option(value="pending" selected=task.status==="pending") Pendente
            option(value="in-progress" selected=task.status==="in-progress") Em progresso
            option(value="completed" selected=task.status==="completed") Concluída

        .mb-3
          label.form-label Data de Vencimento
          - const dueDateValue = task.dueDate ? new Date(task.dueDate).toISOString().split('T')[0] : ''
          input.form-control(type="date" name="dueDate" value=dueDateValue)

        button.btn.btn-success.w-100(type="submit") Atualizar